# Example S3 Backend Configuration
# 
# To use S3 backend for remote state:
# 1. Create an S3 bucket for Terraform state
# 2. Optionally create a DynamoDB table for state locking
# 3. Copy this file to backend.tf and update the values
# 4. Run: terraform init -migrate-state

terraform {
  backend "s3" {
    bucket         = "your-terraform-state-bucket"
    key            = "peex-project/terraform.tfstate"
    region         = "us-east-1"
    encrypt        = true
    dynamodb_table = "terraform-state-lock"  # Optional, for state locking
    
    # Optional: Use AWS profile
    # profile = "your-aws-profile"
  }
}

# To create the S3 bucket and DynamoDB table:
# 
# S3 Bucket:
# aws s3api create-bucket --bucket your-terraform-state-bucket --region us-east-1
# aws s3api put-bucket-versioning --bucket your-terraform-state-bucket --versioning-configuration Status=Enabled
# aws s3api put-bucket-encryption --bucket your-terraform-state-bucket --server-side-encryption-configuration '{"Rules":[{"ApplyServerSideEncryptionByDefault":{"SSEAlgorithm":"AES256"}}]}'
#
# DynamoDB Table (for state locking):
# aws dynamodb create-table \
#   --table-name terraform-state-lock \
#   --attribute-definitions AttributeName=LockID,AttributeType=S \
#   --key-schema AttributeName=LockID,KeyType=HASH \
#   --billing-mode PAY_PER_REQUEST \
#   --region us-east-1
